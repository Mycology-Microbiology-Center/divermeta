<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>divermeta: Multiplicity index • divermeta</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="divermeta: Multiplicity index">
<meta name="description" content="Tools for computing the multiplicity index and related diversity metrics.">
<meta property="og:description" content="Tools for computing the multiplicity index and related diversity metrics.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">divermeta</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="articles/divermeta.html">Get started</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Mycology-Microbiology-Center/divermeta/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="divermeta">divermeta<a class="anchor" aria-label="anchor" href="#divermeta"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p><strong>divermeta</strong> is an R package for quantifying the diversity hidden within clustered units in metagenomic and ecological analyses. It implements the <em>multiplicity</em> index, a novel metric that measures the average diversity within clusters and quantifies how much diversity is lost when sequences or features are grouped into operational units (e.g., OTUs, gene clusters, functional groups).</p>
<div class="section level2">
<h2 id="what-is-multiplicity">What is multiplicity?<a class="anchor" aria-label="anchor" href="#what-is-multiplicity"></a>
</h2>
<p>In metagenomic and ecological studies, sequences are typically clustered into operational units to simplify analysis. While this clustering is necessary and useful, it inevitably obscures the diversity that exists <em>within</em> each cluster.</p>
<p><strong>Multiplicity</strong> quantifies this hidden diversity. It answers the question: “On average, how many distinct elements are contained within each cluster?”</p>
<ul>
<li>
<strong>High multiplicity</strong> means clusters contain many diverse elements (e.g., multiple gene variants or haplotypes)<br>
</li>
<li>
<strong>Low multiplicity</strong> means clusters are dominated by similar elements (e.g., nearly identical sequences within an OTU)</li>
</ul>
<p>Multiplicity complements traditional diversity indices by partitioning total diversity into:</p>
<ul>
<li>Between-cluster diversity (what traditional indices measure)<br>
</li>
<li>Within-cluster diversity (what multiplicity measures)</li>
</ul>
<p>This partitioning helps researchers understand how clustering choices affect diversity estimates and can reveal important biological patterns that would otherwise remain hidden.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of divermeta from <a href="https://github.com/Mycology-Microbiology-Center/divermeta" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu">pak</span><span class="op">(</span><span class="st">"Mycology-Microbiology-Center/divermeta"</span><span class="op">)</span></span></code></pre></div>
<p>Or using <code>remotes</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Mycology-Microbiology-Center/divermeta"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>The main function <code><a href="reference/divermeta.html">divermeta()</a></code> computes multiplicity and other diversity indices across all samples. Here’s a minimal example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mycology-microbiology-center.github.io/divermeta">divermeta</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Abundance matrix: rows = features, columns = samples</span></span>
<span><span class="va">abund</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>,  <span class="fl">8</span>, <span class="fl">12</span>,  <span class="fl">6</span>, <span class="fl">3</span>,  <span class="fl">4</span>, <span class="fl">9</span><span class="op">)</span>,</span>
<span>  nrow <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gene1"</span>, <span class="st">"gene2"</span>, <span class="st">"gene3"</span>, <span class="st">"gene4"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sample_A"</span>, <span class="st">"Sample_B"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assign features to clusters</span></span>
<span><span class="va">clusters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>gene1 <span class="op">=</span> <span class="st">"Group_A"</span>, gene2 <span class="op">=</span> <span class="st">"Group_A"</span>, </span>
<span>              gene3 <span class="op">=</span> <span class="st">"Group_B"</span>, gene4 <span class="op">=</span> <span class="st">"Group_B"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute inventory multiplicity</span></span>
<span><span class="fu"><a href="reference/divermeta.html">divermeta</a></span><span class="op">(</span><span class="va">abund</span>, clusters <span class="op">=</span> <span class="va">clusters</span>, indices <span class="op">=</span> <span class="st">"multiplicity_inventory"</span><span class="op">)</span></span>
<span><span class="co">#&gt;     Sample multiplicity_inventory</span></span>
<span><span class="co">#&gt; 1 Sample_A               1.929710</span></span>
<span><span class="co">#&gt; 2 Sample_B               1.868481</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="learn-more">Learn more<a class="anchor" aria-label="anchor" href="#learn-more"></a>
</h2>
<p>For detailed examples, use cases, and technical documentation:</p>
<ul>
<li>
<strong><a href="https://mycology-microbiology-center.github.io/divermeta/articles/divermeta.html">Vignette</a></strong>: Comprehensive guide with examples for both inventory and distance-based multiplicity</li>
<li>
<strong><a href="https://mycology-microbiology-center.github.io/divermeta/reference/index.html">Function reference</a></strong>: Complete documentation of all functions and parameters</li>
<li>
<strong><a href="https://github.com/Mycology-Microbiology-Center/divermeta" class="external-link">Manuscript</a></strong>: Theoretical background, mathematical foundations, and real-world applications</li>
</ul>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use <strong>divermeta</strong> in your research, please cite:</p>
<blockquote>
<p>González-Casabianca F, Dulya O, Flores-Almaraz V, Tedersoo L, Mikryukov V. Multiplicity quantifies intra-cluster diversity in metagenomic analysis // in prep.</p>
</blockquote>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Mycology-Microbiology-Center/divermeta/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Mycology-Microbiology-Center/divermeta/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing divermeta</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Felipe González-Casabianca <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9445-3809" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Vladimir Mikryukov <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-2786-2690" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felipe González-Casabianca, Vladimir Mikryukov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
